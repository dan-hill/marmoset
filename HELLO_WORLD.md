Tutorial {#tutorial}
========
This is a quick tutorial to show you how easy it is to get started building applications with Marmoset. We are going to 
create a quick hello world app and print some data about the process that is running the request.

First get a clone a copy of Marmoset from Github:
    $ git clone https://github.com/dan-hill/marmoset.git
Then edit the app.c file in the app subfolder:
    $ nano marmoset/app/app.c

First remove the old example application route so that your file looks like this:
    
    #include "app.h"
    
    struct http_response* route(struct http_request * req)
    {
        /* Application routes go here... */
    
        
        return abort_request(HTTP_BAD_REQUEST, "No resource at this route.");
    }
    
    int main()
    {
        run(5555);
    }

We are now going to add in our own function for the root route:

    #include "app.h"
    
    struct http_response* route(struct http_request * req)
    {
        /* Application routes go here... */
        
        if(strcmp(req->path, "/") == 0){
            return hello_world_handler(req);
        }

        return abort_request(HTTP_BAD_REQUEST, "No resource at this route.");
    }
    
    int main()
    {
        run(5555);
    }
    
This tells Marmoset that it wants any requests made to it's root director / to be processed by the function hello_world_handler()
which we are going to add now. 

At the commandline go ahead and create the files for the new route:
    $ mkdir hello_world
    $ touch hello_world/hello_world.c
    $ touch hello_world/hello_world.h

Now you have to add the route to the header file app.h:
    
    #ifndef ROUTES_H
    #define ROUTES_H
    
    #include "marmoset.h"
    #include "serializer.h"
    
    #include "hello_world/hello_world.h"
    
    struct http_response* route(struct http_request * req);
    
    int main();
    
    #endif
    
Now edit your hello_world.h file to have the function signature for the hello_world_handler() function.
    
    #ifndef HELLO_WORLD_H
    #define HELLO_WORLD_H
    
    #include "serializer.h"
    #include "abort.h"
    #include "http_response.h"
    #include "http_request.h"
    #include "app.h"
   
    struct http_response* hello_world_handler(struct http_request *req);
    
    #endif

The function must return a pointer to an http_response struct and must accept a pointer to an http_request.
 
Now we are going to add the code for the funtion in the hello_world.c. 


    #include "hello_world_handler.h"
    
    struct http_response* hello_world_handler(struct http_request * req)
    {
        struct http_response* res = (struct http_response *) malloc(sizeof(struct h$
    
        if(*req->type == HTTP_GET){
            res->content = "<html><body>Hello World!</bod></html>";
            
            return respond(HTTP_OK, res);
        }
    
        return abort_request(HTTP_BAD_REQUEST, "Method not allowed.");
    }

Inside response handlers, you must first filter the requests by the method. You will want to reference the HTTP standards
to learn more about what is acceptable for the different methods. You do this by examining the req struct's type member and
comparing it to the macro for the method you would like to capture. In this case we want to capture the GET method requests
so we compare `req->type` to `HTTP_GET`.

Once we have captured the response we add hello world html to the res struct's content member. For this simple example, this
is all we are going to set.

We now pass the pointer to the res struct to the respond() function. This function will take your data we have stored in
the res struct and complete any other necessary fields with data generated by the server as well as the status that is passed
as the first argument, and returns the complete res struct, which we will then return back to the app to be handled by the server.

This is all it takes to get a hello world app running in Marmoset. You can now start experimenting building your own applications
in C on top of marmoset or using marmoset as an intermediary for applications written in some other language.